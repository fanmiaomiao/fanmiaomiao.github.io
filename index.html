<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>个人博客</title>
    <meta name="keywords" content="有些路，只能一个人走 !">
    <meta name="description" content="">
    <link rel="stylesheet" type="text/css" href="css/index.css" />
    <link rel="stylesheet" type="text/css" href="css/style.css"/>
    <script type="text/javascript" src="js/jquery1.42.min.js"></script>
    <script type="text/javascript" src="js/jquery.SuperSlide.2.1.1.js"></script>
  </head>
  <body background="./images/bground.jpg" no-repeat>
  <!-- header start -->
  <div id="header">
      <a href="index.html"><h1>个人博客</h1></a>
      <p> 有些事，只能一个人做；有些关，只能一个人过；有些路，只能一个人走。</p>
  </div>
  <!-- header end -->
  <!-- nav start-->
  <div id="nav">
    <ul>
        <li><a href="index.html">首页</a></li>
        <li><a href="suibi.html">生活随笔</a></li>
        <li><a href="jishu.html">技术博客</a></li>
        <li><a href="jiyi.html">记忆瞬间</a></li>
        <li><a href="aboutme.html">关于我</a></li>
        <div class="clear"></div>
    </ul>
  </div>
  <!-- nav end -->
  <!-- content start -->
  <div id="content">
      <!-- left -->
      <div class="left" id="c_left">
          <div class="s_tuijian">
              <h2>文章<span>摘要</span></h2>
          </div>  
          <div class="content_text">
              <!-- article start-->
              <div class="article">
                  <h3><a href="./articles/article_1.html" title="有些路，只能一个人走">有些路只能一个人走</a></h3>
                  <dl>
                      <dt><img src="images/s.jpg" width="200px" height="123px" alt="图片无法加载"></dt>
                      <dd>
                          <p class="dd_text_1">
                              人生是一场永不落幕的演出，我们每一个人都是演员，只不过，有的人顺从自己，有的人取悦观众......
                          </p>
                           <p class="dd_text_2">
                              <span class="left author"><a href="aboutme.html">夏夏</a></span><span class=" left time">时间: 2016-01-08</span>
                              <span class="left sort">分类: <a href="suibi.html" title="生活随笔">生活随笔</a></span>
                              <span class="left read"><a href="./articles/article_1.html" title="阅读全文">阅读全文</a></span>
                              <div class="clear"></div>
                            </p> 
                      </dd>
                      <div class="clear"></div>
                  </dl>
                </div>
                <!-- article end -->
                <!-- <hr style="border:1px dashed #CBC7C7;width:700px;size:1" /> -->
                <p style="border-bottom: 1px dashed #ddd;width:700px;size:1" />
                <!-- article start-->
              <div class="article">
                  <h3><a href="./articles/article_2.html" title="去哪网笔试面试总结">去哪网笔试面试总结</a></h3>
                  <dl>
                      <dt><img src="images/article_2.jpg" width="200px" height="123px" alt="图片无法加载"></dt>
                      <dd>
                          <p class="dd_text_1">
                              10月10日时，我参加了去哪网武汉站的笔试。笔试并没有我想象中的复杂，原本以为会有填空选择题，因此对笔试惴惴不安。但是在拿到试卷时才发现全是编程题......
                          </p>
                           <p class="dd_text_2">
                              <span class="left author"><a href="aboutme.html">夏夏</a></span><span class=" left time">时间: 2016-01-08</span>
                              <span class="left sort">分类: <a href="jishu.html" title="技术博客">技术博客</a></span>
                              <span class="left read"><a href="./articles/article_2.html" title="阅读全文">阅读全文</a></span>
                              <div class="clear"></div>
                            </p> 
                      </dd>
                      <div class="clear"></div>
                  </dl>
                </div>
                <!-- article end -->
                    <!-- <hr style="border:1px dashed #CBC7C7;width:700px;size:1" /> -->
                    <p style="border-bottom: 1px dashed #ddd;width:700px;size:1" />
                    <!-- article start-->
              <div class="article">
                  <h3><a href="./articles/article_1.html" title="有些路，只能一个人走">有些路只能一个人走</a></h3>
                  <dl>
                      <dt><img src="images/s.jpg" width="200px" height="123px" alt="图片无法加载"></dt>
                      <dd>
                          <p class="dd_text_1">
                              人生是一场永不落幕的演出，我们每一个人都是演员，只不过，有的人顺从自己，有的人取悦观众......
                          </p>
                           <p class="dd_text_2">
                              <span class="left author"><a href="aboutme.html">夏夏</a></span><span class=" left time">时间: 2016-01-08</span>
                              <span class="left sort">分类: <a href="suibi.html" title="生活随笔">生活随笔</a></span>
                              <span class="left read"><a href="./articles/article_1.html" title="阅读全文">阅读全文</a></span>
                              <div class="clear"></div>
                            </p> 
                      </dd>
                      <div class="clear"></div>
                  </dl>
                </div>
                <!-- article end -->
          </div>  
      </div>  
      <!-- left end -->
      <!-- right start -->
      <div id="c_right" class="right">
          <div class="s_about">
                <h2>个人资料</h2>
                <img src="images/me.jpg" width="230px" height="230px"alt="博主" />
                <p class="bz"><a href="aboutme.html">夏夏</a></p>
                <p style="border-bottom: 1px dashed #ddd;" />
                <!-- <p>职业:程序媛</p> -->
                <p>简介:&nbsp;&nbsp;to be a better me！</p>
                <p><a href="#" title="邮箱"></a><span class="left b_1">邮箱:&nbsp;&nbsp;adammfly@163.com</span>
               <div class="clear"> </div>
              </p>
            </div>
            <!-- 栏目分类 -->
            <div class="hd">

            </div>
          </div>  
          <!-- right end -->
    <!-- <div class="link">  
        <h2>友情链接</h2>
        <p>
            <a href="https://github.com/fanmiaomiao">Miaomiao Fan的github</a>
        </p>  
    </div> -->
    <!--right end -->
    <div class="clear"></div>
    </div>
    <!-- content end -->

    <!-- footer start -->  
    <p style="border-bottom:1px dashed #fff;margin:0 auto;width: 1000px;padding-top:10px;"></p>
    <div id="footer">
        <!-- <p>Miaomiao Fan's Github<a href="https://github.com/fanmiaomiao" target="_blank"></a></p> -->
        <!-- <p> 有些人活着,但他已经死了;有些人死了,但是他永远活着!</p> -->
        <p> Designed by:<a href="http://blog.csdn.net/u011641865?viewmode=list">&nbsp;&nbsp;夏夏</a></p>
    </div>
    <script type="text/javascript">jQuery(".lanmubox").slide({easing:"easeOutBounce",delayTime:400});</script>
    <script  type="text/javascript" src="./js/nav.js"></script>
  </body>
</html>
=======
<!-- The Time Machine GitHub pages theme was designed and developed by Jon Rohan, on Feb 7, 2012. -->
<!-- Follow him for fun. http://twitter.com/jonrohan. Tail his code on https://github.com/jonrohan -->
<html>
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">

  <link rel="stylesheet" href="stylesheets/stylesheet.css" media="screen">
  <link rel="stylesheet" href="stylesheets/github-dark.css">
  <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
  <script type="text/javascript" src="javascripts/script.js"></script>

  <title>JavaScript 中this到底指向什么？</title>
  <meta name="description" content="to be a better me !">

  <meta name="viewport" content="width=device-width,initial-scale=1">

</head>

<body>

  <div class="wrapper">
    <header>
      <h1 class="title">JavaScript 中this到底指向什么？</h1>
    </header>
    <div id="container">
      <p class="tagline">to be a better me !</p>
      <div id="main" role="main">
        <div class="download-bar">
        <div class="inner">
          <a href="https://github.com/fanmiaomiao" class="code">View JavaScript 中this到底指向什么？ on GitHub</a>
        </div>
        <span class="blc"></span><span class="trc"></span>
        </div>
        <article class="markdown-body">
          <pre><code>1、JavaScript是一种脚本语言，支持函数式编程、闭包、基于原型的继承等高级功能。JavaScript一开始看起来感觉会很容易入门，但是随着使用的深入，你会发现JavaScript其实很难掌握，有些基本概念让人匪夷所思。其中JavaScript中的this关键字，就是一个比较容易混淆的概念，在不同场景下，this会化身不同的对象。有一种观点认为，只有正确地掌握了JavaScript中的this关键字，才是迈入了JavaScript这门语言的门槛，在主流的面向对象的语言中，this含义是明确且具体的，即指向当前对象，一般在编译期绑定。而JavaScript中this在运行期进行绑定的，这是JavaScript中this关键字具备多重含义的本质原因。

    2、JavaScript由于在运行期进行绑定的特性，JavaScript中的this可以是全局对象、当前对象或者是任意对象。这完全取决于函数的调用方式，JavaScript中函数的调用和使用apply和call调用。常言道，字不如表，表不如图。为了让人更好的理解JavaScript this到底指向什么？下面一张图来进行解释：
      ![JavaScript 中this指向图](http://image90.360doc.com/DownloadImg/2015/10/3112/60917509_1.jpg)
       上图称之为“JavaScript this决策树”(非严格模式下)。下面通过例子来说明这个图如何来帮助我们对this进行判断：
          var point  = {
            x:0,
            y:0,
            moveTo : function(x,y) {
            this.x = this.x + x;
            this.y = this.y + y;
            }
          };
          // 决策树解释：point.moveTo(1,1)函数不是new调用，进入否决策，
          // 是 dot(.)调用，则指向.moveTo之前的调用对象，即point
          point.moveTo(1,1);  // this绑定当前对象，即point对象


    3、针对作为函数直接调用的方式，下面是一个复杂的例子：
        var point = {
        x:0,
        y:0,
        moveTo : function(x,y) {
        // 内部函数
        var moveX = function (x){
        this.x = x; //this指向什么？window
        };
        // 内部函数
        var moveY = function(y){
        this.y = y; // this指向什么？window
        };
        moveX(x); 
        moveY(y);
        }
        };

        point.moveTo(1,1);
        point.x; // =&gt;0
        point.y; // =&gt;0
        x; // =&gt;1
        y; // =&gt;1
        point.moveTo(1,1)
        函数实际内部调用的是moveX()和moveY()函数, moveX()函数内部的this在 “JavaScript this决策树“中进行判定的过程是这样的：
        1）moveX(1)函数调用是用new进行调用的么？这个明显不是，进入“否”分支，即函数是否用dot(.)进行调用？；
        2）moveX(1)函数不是用dot(.)进行调用的，即进入“否”分支，即这里的this指向全局变量window，那么this.x实际上就是window.x;

      下面讲一下作为函数调用的例子：
        function Point(x,y){
        this.x = x,
        this.y = y,
        }
        var np = new Point(1,1);
        np.x ;
        var p = Point(2,2);
        p.x; //error ，p是一个空对象undefined
        window.x = 2;
      (1)、Point(1，1)函数在var np = new Point(1,1)调用是用new进行调用的么？这个明显是，进入“是”分支，即this指向np；
      (2)、那么this.x = 1,即np.x = 1;
      Point(2,2)函数在var p = Point(2,2)中的this在”JavaScript this决策树“中进行判定的过程是这样的：
      2）那么this.x=1，即np.x=1；
      Point(2,2)函数在var p= Point(2,2)中的this在“JavaScript this决策树“中进行判定的过程是这样的：
      1）var p= Point(2,2)调用是用new进行调用的么？这个明显不是，进入“否”分支，即函数是否用dot(.)进行调用？；
      2）Point(2,2)函数不是用dot(.)进行调用的？判定为否，即进入“否”分支，即这里的this指向全局变量window，那么this.x实际上就是window.x;
      3）this.x=2即window.x=2.
      最后看一下函数用call 和apply进行调用的例子：
        function Point(x, y){ 
            this.x = x; 
            this.y = y; 
            this.moveTo = function(x, y){ 
                this.x = x; 
                this.y = y; 
            } 
         } 

        var p1 = new Point(0, 0); 
        var p2 = {x: 0, y: 0}; 
        p1.moveTo.apply(p2, [10, 10]);//apply实际上为p2.moveTo(10,10)
        p2.x//10
        p1.moveTo.apply(p2,[10,10])函数在 “JavaScript this决策树“中进行判定的过程是这样的：
        我们知道，apply和call这两个方法异常强大，他们允许切换函数执行的上下文环境（context），即 this 绑定的对象。p1.moveTo.apply(p2,[10,10])实际上是p2.moveTo(10,10)。那么p2.moveTo(10,10)可解释为：
        1）p2.moveTo(10,10)函数调用是用new进行调用的么？这个明显不是，进入“否”分支，即函数是否用dot(.)进行调用？；
        2）p2.moveTo(10,10)函数是用dot(.)进行调用的，即进入“是”分支，即这里的this指向p2.moveTo(10,10)中.之前的对象p2,所以p2.x=10;
        关于JavaScript函数执行环境的过程，IBM developerworks文档库中的一段描述感觉很不错，摘抄如下：
        “JavaScript 中的函数既可以被当作普通函数执行，也可以作为对象的方法执行，这是导致 this 含义如此丰富的主要原因。一个函数被执行时，会创建一个执行环境（ExecutionContext），函数的所有的行为均发生在此执行环境中，构建该执行环境时，JavaScript 首先会创建 arguments变量，其中包含调用函数时传入的参数。接下来创建作用域链。然后初始化变量，首先初始化函数的形参表，值为 arguments变量中对应的值，如果 arguments变量中没有对应值，则该形参初始化为 undefined。如果该函数中含有内部函数，则初始化这些内部函数。如果没有，继续初始化该函数内定义的局部变量，需要注意的是此时这些变量初始化为 undefined，其赋值操作在执行环境（ExecutionContext）创建成功后，函数执行时才会执行，这点对于我们理解 JavaScript 中的变量作用域非常重要，鉴于篇幅，我们先不在这里讨论这个话题。最后为 this变量赋值，如前所述，会根据函数调用方式的不同，赋给 this全局对象，当前对象等。至此函数的执行环境（ExecutionContext）创建成功，函数开始逐行执行，所需变量均从之前构建好的执行环境（ExecutionContext）中读取。”
        理解这段话对于理解Javascript函数将大有好处。
</code></pre>
        </article>
      </div>
    </div>
    <footer>
      <div class="owner">

      <p><a href="https://github.com/fanmiaomiao" class="avatar"><img src="https://avatars3.githubusercontent.com/u/10127167?v=3&amp;s=60" width="48" height="48"></a>View <a href="https://github.com/fanmiaomiao">fanmiaomiao</a> on <a href="https://www.github.com">GitHub</a></p>

      </div>
      <div class="creds">
        <small>This page generated using <a href="https://pages.github.com/">GitHub Pages</a><br>theme by <a href="https://twitter.com/jonrohan/">Jon Rohan</a></small>
      </div>
    </footer>
  </div>
  <div class="current-section">
    <a href="#top">Scroll to top</a>
    <a href="https://github.com/fanmiaomiao/fanmiaomiao.github.io/tarball/master" class="tar">tar</a><a href="https://github.com/fanmiaomiao/fanmiaomiao.github.io/zipball/master" class="zip">zip</a><a href="" class="code">source code</a>
    <p class="name"></p>
  </div>

  
</body>
</html>
>>>>>>> 8c1847bea9ae5886bf18986b4dbf68330f49bfef
